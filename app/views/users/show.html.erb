<div class="flex flex-col items-center">
    <div class="w-full sm:max-w-2xl p-3 pb-1">
        <div class="grid grid-cols-4 gap-4 bg-white rounded-xl shadow-sm p-2 pl-3 pb-5">
            <div class="col-span-1 mt-4 sm:max-w-25">
                <%= image_tag 'user_default_icon.png', class: "rounded-full object-cover aspect-1/1" %>
            </div>
            <div class="col-span-3">
                <div class="flex justify-end mb-1">
                    <% if user_signed_in? && @user == current_user %>
                        <div class="dropdown dropdown-end">
                            <div tabindex="0" role="button" class="flex justify-center items-center size-8 rounded-full shadow-sm border border-zinc-200">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" /></svg>
                            </div>
                            <div tabindex="0" class="flex flex-col items-center dropdown-content menu bg-white border border-zinc-200 rounded-box z-1 w-28 mt-1 p-1 shadow-sm divide-y divide-zinc-300">
                                <%= link_to '編集する', user_path(current_user), class: "p-2" %>
                                <%= link_to "ログアウト", destroy_user_session_path, data: { turbo_method: :delete }, class: "p-2 text-rose-500" %>
                            </div>
                        </div>
                    <% else %>
                        <%= link_to 'フォローする', root_path, class: "px-2 py-[6px] border border-zinc-700 rounded-full text-xs text-zinc-700 align-center font-bold" %>
                    <% end %>
                </div>
                <p><%= @user.name %></p>
                <p class="mb-5 text-xs text-zinc-500">@<%= @user.uid %></p>
                <div class="grid grid-cols-3">
                    <div class="col-span-1 flex flex-col items-start">
                        <div class="flex flex-col items-center">
                            999
                            <p class="text-[10px]">投稿</p>
                        </div>
                    </div>
                    <div class="col-span-1 flex flex-col items-start">
                        <div class="flex flex-col items-center">
                            999
                            <p class="text-[10px]">フォロー</p>
                        </div>
                    </div>
                    <div class="col-span-1 flex flex-col items-start">
                        <div class="flex flex-col items-center">
                            999
                            <p class="text-[10px]">フォロワー</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <% if user_signed_in? && @user == current_user %>
        <div class="w-full sm:max-w-2xl grid grid-cols-3 gap-3 px-3 py-2 bg-teal-50 sticky z-50 top-0">
            <%= link_to mypage_path, class: "flex flex-col items-center rounded-xl bg-white shadow-sm p-4", remote: true do %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6 fill-teal-200">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3" />
                </svg>
                <p class="text-[10px] mt-3 font-bold">ショートカット</p>
            <% end %>
            <%= link_to mypage_path, class: "flex flex-col items-center rounded-xl bg-zinc-100 p-4", remote: true do %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="stroke-zinc-500 size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z" />
                </svg>
                <p class="text-[10px] mt-3 text-zinc-500">保存した投稿</p>
            <% end %>
            <%= link_to mypage_path, class: "flex flex-col items-center rounded-xl bg-zinc-100 p-4", remote: true do %>
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="stroke-zinc-500 size-6">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z" />
                </svg>
                <p class="text-[10px] mt-3 text-zinc-500">アナリティクス</p>
            <% end %>
        </div>
    <% end %>

    <div class="w-full sm:max-w-2xl p-3">
        <div class="flex justify-between items-center mb-5">
            <p class="text-xl font-bold">ショートカット</p>
        </div>
        <% if @shortcuts.present? %>
            <div class="grid grid-cols-2 sm:grid-cols-4 gap-4">
                <%= render partial: 'users/shortcut', collection: @shortcuts %>
            </div>
        <% else %>
            <p>作成したショートカットはありません</p>
        <% end %>
    </div>
</div>
